<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" th:href="@{/build/css/styles.css}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <title>Asignaturas - DateUnRepaso</title>
</head>

<body>
  <div th:insert="fragmentos/header :: headerFragment"></div>
	<div th:insert="fragmentos/headerMovil :: headerMovilFragment"></div>

  <main class="inicio">
    <section class="inicio_contenido">
      <table class="table">
        <thead class="thead-light">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Nombre</th>
            <th scope="col">Profesores</th>
            <th scope="col">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="asignatura : ${asignaturas}">
            <th scope="row" th:text="${asignatura.id}" />
            <td th:text="${asignatura.nombre}" />
            <td>
              <span th:each="profesor : ${asignatura.profesores}">
                <span th:text="${profesor.nomCompleto}"></span>
                <span>,</span>
              </span>
            </td>
            <td>
              <label th:if="${!esProfesor}">
                <a class="boton-secundario"
                  th:href="@{/panel-admin/asignaturas/eliminar/}+${asignatura.id}">Eliminar</a>
                <a class="boton-secundario" th:href="@{/panel-admin/asignaturas/editar/}+${asignatura.id}">Editar</a>
              </label>
              <label th:if="${esProfesor}">
                <label th:if="${asignatura.id != usuario.asignatura.id}">
                  <a class="boton-secundario"
                    th:href="@{/panel-admin/asignaturas/eliminar/}+${asignatura.id}">Eliminar</a>
                  <a class="boton-secundario"
                    th:href="@{/panel-admin/asignaturas/editar/}+${asignatura.id}">Editar</a>
                </label>
              </label>
            </td>
          </tr>
        </tbody>
      </table>
      <a class="boton-secundario" th:href="@{/panel-admin/asignaturas/crear}">Crear asignatura</a>
    </section>
  </main>
</body>

<script th:src="@{/js/calendarioInicio.js}"></script>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.13/index.global.min.js'></script>

</html>